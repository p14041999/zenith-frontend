<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/css/all.min.css">
    <title>Zenith Scan - Powered by Code Partner</title>
    <link rel="shortcut icon" href="/logo.png" type="image/x-icon">
    <link rel="icon" href="/logo.png" type="image/x-icon">
</head>
<body>
    <nav class="container-fluid bg-light py-3">
        <div class="container d-flex justify-content-between align-items-center">
            <a class="navbar-brand d-flex align-items-center" href="/" style="cursor: pointer;">
              <svg height="30" viewBox="0 0 40 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M32.09 45.7802H7.95C6.56621 45.7789 5.21689 45.3484 4.08794 44.5482C2.959 43.748 2.10597 42.6173 1.64639 41.3121C1.18681 40.0068 1.1433 38.5912 1.52183 37.2602C1.90037 35.9292 2.68234 34.7483 3.76 33.8802L33.68 9.83024C34.3454 9.3165 34.832 8.6062 35.0707 7.80021C35.3095 6.99421 35.2882 6.13348 35.01 5.34024C34.736 4.54973 34.2211 3.86503 33.5376 3.38249C32.8542 2.89994 32.0366 2.64385 31.2 2.65024H7.65C6.32392 2.65024 5.05215 3.17702 4.11447 4.1147C3.17678 5.05238 2.65 6.32415 2.65 7.65024C2.65 8.97632 3.17678 10.2481 4.11447 11.1858C5.05215 12.1235 6.32392 12.6502 7.65 12.6502H8.4C8.73154 12.6791 9.04023 12.8311 9.26512 13.0764C9.49002 13.3217 9.61478 13.6424 9.61478 13.9752C9.61478 14.308 9.49002 14.6287 9.26512 14.874C9.04023 15.1193 8.73154 15.2714 8.4 15.3002H7.65C5.62109 15.3002 3.67529 14.4943 2.24063 13.0596C0.80598 11.625 0 9.67914 0 7.65024C0 5.62133 0.80598 3.67552 2.24063 2.24087C3.67529 0.806216 5.62109 0.000236674 7.65 0.000236674H31.15C32.5379 -0.0115053 33.8943 0.413937 35.0269 1.21625C36.1594 2.01856 37.0107 3.15702 37.46 4.47024C37.9275 5.7749 37.9745 7.19326 37.5942 8.52598C37.2139 9.85869 36.4256 11.0387 35.34 11.9002L5.42 36.0002C4.74722 36.513 4.25431 37.2258 4.0121 38.0363C3.76989 38.8468 3.79085 39.7132 4.07198 40.511C4.3531 41.3088 4.87991 41.997 5.57671 42.4766C6.2735 42.9562 7.1044 43.2025 7.95 43.1802H32.09C33.4161 43.1802 34.6879 42.6535 35.6255 41.7158C36.5632 40.7781 37.09 39.5063 37.09 38.1802C37.09 36.8542 36.5632 35.5824 35.6255 34.6447C34.6879 33.707 33.4161 33.1802 32.09 33.1802H30.68C30.3485 33.1514 30.0398 32.9993 29.8149 32.754C29.59 32.5087 29.4652 32.188 29.4652 31.8552C29.4652 31.5224 29.59 31.2017 29.8149 30.9564C30.0398 30.7111 30.3485 30.5591 30.68 30.5302H32.09C34.1163 30.5302 36.0595 31.3352 37.4923 32.7679C38.9251 34.2007 39.73 36.144 39.73 38.1702C39.73 40.1965 38.9251 42.1398 37.4923 43.5725C36.0595 45.0053 34.1163 45.8102 32.09 45.8102" fill="currentColor"/>
                  <path d="M3.70995 27.5302C3.51657 27.5265 3.32645 27.4797 3.15346 27.3932C2.98046 27.3067 2.82894 27.1827 2.70995 27.0302C2.60116 26.8945 2.52027 26.7386 2.47192 26.5715C2.42358 26.4044 2.40874 26.2294 2.42826 26.0566C2.44777 25.8837 2.50126 25.7164 2.58564 25.5643C2.67002 25.4122 2.78364 25.2783 2.91995 25.1702L23.27 9.00022H12.01C11.8336 8.99893 11.6592 8.96259 11.497 8.89329C11.3349 8.82399 11.1881 8.72312 11.0652 8.59656C10.9424 8.47 10.846 8.32027 10.7815 8.15609C10.7171 7.9919 10.686 7.81654 10.69 7.64022C10.7025 7.29507 10.8459 6.96763 11.0911 6.72434C11.3362 6.48105 11.6647 6.34015 12.01 6.33022H23.31C23.8281 6.32496 24.3366 6.47061 24.7734 6.74939C25.2102 7.02817 25.5565 7.42803 25.77 7.90022C26.0094 8.42728 26.0647 9.01957 25.9269 9.58185C25.789 10.1441 25.4661 10.6437 25.01 11.0002L4.53995 27.2402C4.30266 27.4254 4.01097 27.5274 3.70995 27.5302Z" fill="currentColor"/>
                  <path d="M27.0099 39.4102H15.6099C15.0692 39.4037 14.5436 39.2301 14.1055 38.9131C13.6673 38.596 13.338 38.1512 13.1627 37.6396C12.9874 37.1279 12.9747 36.5746 13.1264 36.0555C13.2781 35.5364 13.5867 35.0769 14.0099 34.7402L34.4499 18.5002C34.5859 18.3925 34.7417 18.3126 34.9084 18.2652C35.0752 18.2177 35.2497 18.2035 35.422 18.2235C35.5942 18.2435 35.7609 18.2972 35.9124 18.3815C36.0639 18.4659 36.1973 18.5793 36.3049 18.7152C36.4126 18.8511 36.4925 19.0069 36.54 19.1737C36.5874 19.3405 36.6016 19.515 36.5816 19.6872C36.5617 19.8595 36.508 20.0261 36.4236 20.1776C36.3392 20.3291 36.2259 20.4625 36.0899 20.5702L15.6999 36.7602H27.0099C27.1936 36.7442 27.3786 36.7666 27.5532 36.8259C27.7277 36.8853 27.8881 36.9803 28.024 37.1048C28.1599 37.2294 28.2684 37.3809 28.3426 37.5497C28.4168 37.7185 28.4552 37.9008 28.4552 38.0852C28.4552 38.2696 28.4168 38.4519 28.3426 38.6207C28.2684 38.7894 28.1599 38.9409 28.024 39.0655C27.8881 39.1901 27.7277 39.2851 27.5532 39.3444C27.3786 39.4038 27.1936 39.4262 27.0099 39.4102Z" fill="currentColor"/>
              </svg>   
              <span class="ms-3 desktop-only">Zenith Scan</span>             
            </a>
            <ul class="d-flex mb-0 align-items-center">
              <li class="nav-item mr-4 desktop-only">
                  <button class="btn btn-light border-1 shadow rounded-0 px-3 me-3 d-flex align-items-center" onclick="addToMetamask()">
                      <img src="/metamask.svg" width="20" alt="metamask" class="me-2" /> Add to Metamask
                  </button>
              </li>
              <li class="nav-item mr-4">
                  <a class="btn btn-light border-1 shadow rounded-0 px-3 d-flex align-items-center" target="_blank" href="https://bridge.zenithchain.co">
                      <img src="/logo.svg" width="20" alt="metamask" class="me-2" /> Zenith Bridge</a>
              </li>
              </ul>
        </div>
      </nav>
      <!-- Latest Data Area -->
      <div class="container mt-5">
            <div class="top-section">
                <h4 class="text-secondary pb-4"><%= type %></h4>
                <p class="ms-3 mb-0"><span class="desktop-only"><%= address.address %></span></p>
                <div class="ms-3">
                    <button class="copy-button py-1" id="copy-button" onclick="copyToClipboard()">
                        <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    </button>
                </div>
            </div>
            <div class="row gy-3">
                <div class="col-12 col-lg-6">
                    <div class="card h-100">
                        <div class="card-header">
                            <p class="card-title mb-0">Overview</p>
                        </div>
                        <div class="card-body p-0 mb-0" style="overflow-x: scroll;">
                            <table class="table table-hover mb-0">
                                <tbody>
                                    <tr>
                                        <td style="width: 200px;">
                                            Balance:
                                        </td>
                                        <td class="text-start"><%= Number(balance).toLocaleString('en-US') %> ZENITH</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 200px;">
                                            ZENITH Value:
                                        </td>
                                        <td class="text-start">$<%= (Number(balance)*rate).toLocaleString('en-US')%> <span class="text-secondary">(@ $<%= rate %> /ZENITH)</span></td>
                                    </tr>                            
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-6">
                    <div class="card h-100">
                        <div class="card-header">
                            <p class="card-title mb-0">More Info</p>
                        </div>
                        <div class="card-body p-0 mb-0">
                            <!-- <table class="table table-hover mb-0">
                                
                            </table> -->
                        </div>
                    </div>
                </div>
            </div>
      </div>
      <!-- Latest Data Area Ends Here -->
      <div class="container d-flex justify-content-center my-5">
          <!-- 728x90 -->
            <a target="_blank" href="https://forms.gle/jVRb2Bhqoch69GwE7">
                <div class="d-flex align-items-center justify-content-center position-relative shadow" style="border-radius:10px;width:100%;max-width: 728px; height:90px; background-color: rgb(228, 228, 228);">
                    <span class="text-dark fs-4">Get Your Ad Here</span>
                    <span class="position-absolute d-flex justify-content-center align-items-center text-dark" style="margin-top:-10px; margin-right:-10px;top:0;right:0;width:35px;height:30px;border-radius:10px; background-color:white;">
                        AD
                    </span>
                </div>
            </a>
        </div>
        <div class="container mt-5">
            <div class="card h-100">
                    <div class="card-header">
                        <p class="card-title mb-0">Transactions</p>
                    </div>
                    <div class="card-body p-0 mb-0" style="overflow-x: scroll;">
                        <%if(address.transactions.length>0){%>
                        <table class="table table-hover mb-0">
                            <tbody>
                                <% let tx = address.transactions.reverse(); %>
                                <% let limit = ((tx.length>=20)?19:tx.length-1)%>
                                <% for(let i = 0;i<=limit;i++){%>
                                    <tr>
                                        <td>
                                            <a href="/tx/<%=tx[i].hash%>" style="text-decoration: none;"><%= tx[i].hash.substr(0,15)%></a>...
                                        </td>
                                        <td>
                                            <%if(address.address == tx[i].from ){%>
                                                <div class="px-3 py-2 type-out w-100 text-center">
                                                    OUT
                                                </div>
                                            <%}%>
                                            <%if(address.address == tx[i].to ){%>
                                                <div class="px-3 py-2 type-in w-100 text-center">
                                                    IN
                                                </div>
                                            <%}%>
                                            <%if(address.address == tx[i].contractAddress ){%>
                                                <div class="px-3 py-2 type-in w-100 text-center">
                                                    IN
                                                </div>
                                            <%}%>
                                        </td>
                                        <td class="text-start">
                                            <%if(address.address != tx[i].from ){%>
                                                from <a href="/address/<%=tx[i].from%>" style="text-decoration: none;"><%= tx[i].from.substr(0,15) %>...</a> <br/>
                                            <%}%>
                                            <%if(tx[i].to == null){%>
                                                <%if(address.address != tx[i].contractAddress ){%>
                                                    to <a href="/address/<%=tx[i].contractAddress%>" style="text-decoration: none;"><%= tx[i].contractAddress.substr(0,15) %>...</a>
                                                <%}%>
                                            <% }else{%>
                                                <%if(address.address != tx[i].to ){%>
                                                    to <a href="/address/<%=tx[i].to%>" style="text-decoration: none;"><%=tx[i].to.substr(0,15) %>...</a>
                                                <%}%>
                                            <%}%>
                                        </td>
                                        <td>
                                            <%= Number(tx[i].value)/10**18 %> ZENITH
                                        </td>
                                    </tr>
                                <%}%>                    
                            </tbody>
                        </table>
                        <%}else{%>
                            <div class="container my-5">
                                <!-- <p class="px-3 py-4 text-center bg-warning text-light"></p> -->
                                <div class="alert alert-warning" role="alert">
                                    No Transactions Yet !
                                </div>
                            </div>
                        <%}%>
                    </div>
            </div>
        </div>
      <div class="hero-section py-5 text-light mt-5 text-center">
          <span class="text-center">Copyright &copy; 2020-2021 Zenith Chain (UAB) Ltd Reg No. 305865705. All rights reserved</span>
      </div>
    <!-- Scripts -->
    <script>
        async function addToMetamask(){
            console.log(window.ethereum != undefined);
            if(window.ethereum != undefined){
            try {
                await ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: '0x4F' }],
                });
            } catch (switchError) {
                // This error code indicates that the chain has not been added to MetaMask.
                if (switchError.code === 4902) {
                    try {
                    await ethereum.request({
                        method: 'wallet_addEthereumChain',
                        params: [{ 
                            chainId: '0x4F',
                            rpcUrl: 'https://dataserver-1.zenithchain.co',
                            nativeCurrency: {
                                name: 'Zenith Coin',
                                symbol: "ZENITH",
                                decimals: 18
                            },
                            blockExplorerUrls:['https://scan.zenithchain.co']
                        }],
                    });
                    } catch (addError) {
                    // handle "add" error
                    }
                }
                // handle other "switch" errors
            }
            }else{
                alert("Please Install Metamask First!")
            }
        }   
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
        function copyToClipboard(){
            var exampleEl = document.getElementById('copy-button');
            var text = "<%=address.address%>"
            navigator.clipboard.writeText(text).then(e=>{
                var options = {
                    animation:true,
                    title:'Copied!'
                } 
                var popover = new bootstrap.Tooltip(exampleEl, options);
                popover.show()
                setTimeout(()=>{
                    popover.hide();
                },1000) 
            }) 
        }
        document.addEventListener('inserted.bs.tooltip',e=>{
            console.log(e);
        })
    </script>
</body>
</html>